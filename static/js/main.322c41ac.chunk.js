(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],[,,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var c=n(0),o=n(1),a=n.n(o),u=n(8),i=n.n(u),s=(n(14),n(2)),r=n(5),d=n(3),l=(n(15),n(16),n(17),function(t){var e=t.subTodo,n=e.id,a=e.text,u=e.finished,i=t.parentId,s=Object(o.useState)(a),r=Object(d.a)(s,2),l=r[0],b=r[1],j=Object(o.useContext)(p),f=j.checkTodo,O=j.changeTodo,h=j.deleteTodo,m=Object(o.useRef)(null);Object(o.useEffect)((function(){!a&&m.current.focus()}),[]);var x="sub-todo";u&&(x+=" finished");var v=function(t){a!==l&&O(n,l,i),t.target.blur()};return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("li",{className:x,children:[Object(c.jsxs)("label",{className:"label",children:[Object(c.jsx)("input",{className:"label__checkbox",type:"checkbox",checked:u,onChange:function(){return f(n,i)}}),Object(c.jsx)("span",{className:"label__check",children:Object(c.jsx)("i",{className:"fa fa-check icon"})})]}),Object(c.jsx)("input",{className:"sub-todo__text",value:l,onChange:function(t){b(t.target.value)},onKeyDown:function(t){"Enter"===t.key&&v(t)},onBlur:v,ref:m}),Object(c.jsx)("button",{className:"todo__delete-bttn bttn",onClick:function(){return h(n,i)},children:Object(c.jsx)("i",{className:"fa fa-times icon","aria-hidden":"true"})})]})})}),b=Object(o.memo)(l),j=function(t){var e=t.subTodos,n=t.parentId;return Object(c.jsx)("ul",{className:"sub-todo-list",children:e.map((function(t){return Object(c.jsx)(b,{parentId:n,subTodo:t},t.id)}))})},f=function(t){var e=t.todo,n=e.id,a=e.text,u=e.finished,i=e.subTodos,s=Object(o.useState)(a),r=Object(d.a)(s,2),l=r[0],b=r[1],f=Object(o.useContext)(p),O=f.addTodo,h=f.checkTodo,m=f.changeTodo,x=f.deleteTodo,v="todo";u&&(v+=" finished");var N=function(t){a!==l&&m(n,l),t.target.blur()};return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("li",{children:[Object(c.jsxs)("div",{className:v,children:[Object(c.jsxs)("label",{className:"label",children:[Object(c.jsx)("input",{className:"label__checkbox",type:"checkbox",checked:u,onChange:function(){return h(n)}}),Object(c.jsx)("span",{className:"label__check",children:Object(c.jsx)("i",{className:"fa fa-check icon"})})]}),Object(c.jsx)("input",{type:"text",className:"todo__text",value:l,onChange:function(t){b(t.target.value)},onKeyDown:function(t){"Enter"===t.key&&N(t)},onBlur:N}),Object(c.jsx)("button",{className:"todo__add-sub-bttn bttn",onClick:function(){return O("",n)},children:Object(c.jsx)("i",{className:"fa fa-plus icon","aria-hidden":"true"})}),Object(c.jsx)("button",{className:"todo__delete-bttn bttn",onClick:function(){return x(n)},children:Object(c.jsx)("i",{className:"fa fa-times icon","aria-hidden":"true"})})]}),i.length>0&&Object(c.jsx)(j,{subTodos:i,parentId:n})]})})},O=(n(18),function(t){var e=t.todos;return Object(c.jsx)("ul",{className:"todo-list",children:e.map((function(t){return Object(c.jsx)(f,{todo:t},t.id)}))})}),h=(n(19),function(){return Object(c.jsx)("h1",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447"})}),m=Object(o.memo)(h),x=(n(20),function(t){var e=t.addTodo,n=Object(o.useState)(""),a=Object(d.a)(n,2),u=a[0],i=a[1],s=Object(o.useRef)(null);Object(o.useEffect)((function(){s.current.focus()}),[]);return Object(c.jsxs)("form",{className:"todo__input-form",onSubmit:function(t){t.preventDefault(),e(u),i(""),s.current.focus()},children:[Object(c.jsx)("input",{className:"todo__input-field",type:"text",onChange:function(t){return i(t.target.value)},value:u,placeholder:"\u0422\u0435\u043a\u0441\u0442 \u043d\u043e\u0432\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438",ref:s}),Object(c.jsx)("button",{className:"todo__add-bttn bttn",type:"submit",disabled:!u.trim(),children:Object(c.jsx)("i",{className:"fa fa-plus icon","aria-hidden":"true"})})]})}),p=Object(o.createContext)(),v=function(){var t=Object(o.useState)([]),e=Object(d.a)(t,2),n=e[0],a=e[1];Object(o.useEffect)((function(){var t=localStorage.getItem("todo-app");t&&a(JSON.parse(t))}),[]),Object(o.useEffect)((function(){localStorage.setItem("todo-app",JSON.stringify(n))}),[n]);var u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(null!==e?function(n){return n.map((function(n){if(n.id===e){var c=Math.max.apply(Math,[0].concat(Object(r.a)(n.subTodos.map((function(t){return t.id})))));return Object(s.a)(Object(s.a)({},n),{},{subTodos:[].concat(Object(r.a)(n.subTodos),[{id:c+1,text:t,finished:!1}])})}return n}))}:function(e){var n=Math.max.apply(Math,[0].concat(Object(r.a)(e.map((function(t){return t.id})))));return[].concat(Object(r.a)(e),[{id:n+1,text:t,finished:!1,subTodos:[]}])})};return Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)(m,{}),Object(c.jsx)(p.Provider,{value:{addTodo:u,checkTodo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(null!==e?function(n){return n.map((function(n){if(n.id===e){var c=n.subTodos.map((function(e){return e.id===t?Object(s.a)(Object(s.a)({},e),{},{finished:!e.finished}):e}));return Object(s.a)(Object(s.a)({},n),{},{subTodos:c})}return n}))}:function(e){return e.map((function(e){return e.id===t?Object(s.a)(Object(s.a)({},e),{},{finished:!e.finished}):e}))})},changeTodo:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a(null!==n?function(c){return c.map((function(c){if(c.id===n){var o=c.subTodos.map((function(n){return n.id===t?Object(s.a)(Object(s.a)({},n),{},{text:e}):n}));return Object(s.a)(Object(s.a)({},c),{},{subTodos:o})}return c}))}:function(n){return n.map((function(n){return n.id===t?Object(s.a)(Object(s.a)({},n),{},{text:e}):n}))})},deleteTodo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(null!==e?function(n){return n.map((function(n){if(n.id===e){var c=n.subTodos.filter((function(e){return e.id!==t}));return Object(s.a)(Object(s.a)({},n),{},{subTodos:c})}return n}))}:function(e){return e.filter((function(e){return e.id!==t}))})}},children:n.length?Object(c.jsx)(O,{todos:n}):Object(c.jsx)("p",{className:"empty-todo-warning",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447 \u043f\u0443\u0441\u0442, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443."})}),Object(c.jsx)(x,{addTodo:u})]})};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.322c41ac.chunk.js.map